{% extends 'base_restaurateur_page.html' %}

{% block title %}–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã | Star Burger{% endblock %}

{% block content %}
<center>
  <h2>–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã</h2>
</center>

<hr/>
<br/>
<div class="container">
  <table class="table table-responsive">
    <tr>
      <th>ID</th>
      <th>–°—Ç–∞—Ç—É—Å</th>
      <th>–û–ø–ª–∞—Ç–∞</th>
      <th>–°–æ–∑–¥–∞–Ω</th>
      <th>–ö–ª–∏–µ–Ω—Ç</th>
      <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
      <th>–ê–¥—Ä–µ—Å</th>
      <th>–°—É–º–º–∞</th>
      <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
      <th>–°—Å—ã–ª–∫–∞ –Ω–∞ –∞–¥–º–∏–Ω–∫—É</th>
    </tr>
    {% for order in orders %}
    <tr>
      <td>{{ order.id }}</td>
      <td class="status-cell">{{ order.get_status_display }}</td>
      <td class="payment-method">
        <span class="payment-badge">
          {{ order.get_payment_method_display }}
        </span>
      </td>
      <td>{{ order.created_at|date:"d.m H:i" }}</td>
      <td>{{ order.firstname }} {{ order.lastname }}</td>
      <td>{{ order.phonenumber }}</td>
      <td>{{ order.address }}</td>
      <td class="order-price">{{ order.custom_total_price|default:"0.00" }} ‚ÇΩ</td>
      <td class="order-comment">
        {% if order.comment %}
        <details>
          <summary>üìù–ü–æ–∫–∞–∑–∞—Ç—å</summary>
          <div class="comment-content">{{ order.comment }}</div>
        </details>
        {% else %}
        ‚Äî
        {% endif %}
      </td>
      <td>
        <a href="{% url 'admin:foodcartapp_order_change' order.id %}?next={{ request.get_full_path|urlencode }}"
           class="edit-btn">
          ‚úé–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
        </a>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="10" class="empty-msg">–ù–µ—Ç –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–æ–≤</td>
    </tr>
    {% endfor %}
  </table>
</div>
{% endblock %}

<style>
  .payment-method {
    min-width: 140px;
  }

  .payment-badge {
    display: inline-block;
    padding: 4px 8px;
    border-radius: 12px;
    background: #e3f2fd;
    color: #1976d2;
    font-size: 0.9em;
  }

  .status-cell {
    font-weight: 500;
    color: #6d4c41;
  }

  .order-price {
    font-weight: 600;
    color: #2e7d32;
    white-space: nowrap;
  }

  .comment-content {
    background: #f8f9fa;
    padding: 8px;
    border-radius: 4px;
    margin-top: 4px;
    font-size: 0.9em;
  }

  .edit-btn {
    color: #3b82f6;
    text-decoration: none;
    font-size: 1.1em;
    padding: 2px 6px;
    border-radius: 4px;
    transition: background 0.2s;
  }

  .edit-btn:hover {
    background: #e8f4ff;
  }

  .empty-msg {
    color: #757575;
    text-align: center;
    padding: 20px !important;
  }

  td {
    vertical-align: middle !important;
    padding: 12px 8px !important;
  }

  th {
    background: #f5f5f5;
    position: sticky;
    top: 0;
    z-index: 1;
  }
</style>
