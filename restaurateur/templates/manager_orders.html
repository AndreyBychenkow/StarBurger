{% extends 'base_restaurateur_page.html' %}

{% block title %}Необработанные заказы | Star Burger{% endblock %}

{% block content %}
<center>
  <h2>Необработанные заказы</h2>
</center>

<hr/>
<br/>
<div class="container">
  <table class="table table-responsive">
    <tr>
      <th>ID заказа</th>
      <th>Статус</th>
      <th>Клиент</th>
      <th>Телефон</th>
      <th>Адрес доставки</th>
      <th>Стоимость</th>
      <th>Состав заказа</th>
    </tr>
    {% for order in orders %}
    <tr>
      <td>{{ order.id }}</td>
      <td>{{ order.get_status_display }}</td>
      <td>{{ order.firstname }} {{ order.lastname }}</td>
      <td>{{ order.phonenumber }}</td>
      <td>{{ order.address }}</td>
      <td class="order-price">{{ order.custom_total_price|default:"0.00" }} руб.</td>
      <td>
        <ul>
          {% for item in order.items.all %}
          <li>{{ item.product.name }} × {{ item.quantity }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="7">Нет необработанных заказов</td>
    </tr>
    {% endfor %}
  </table>
</div>
{% endblock %}

<style>
  .order-price { font-weight: bold; color: #ff4500; }
</style>
